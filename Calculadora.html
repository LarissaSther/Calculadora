<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Calculadora</title>
    <h1>Calculadora</h1>
    <section>
      <article>
        <div id="content">
          <div id="content - app">
            <input type="text" id="field1" readonly value="0" />
            <br /><br />
            <button onclick="writeNumber(this)" id="n1">1</button>
            <button onclick="writeNumber(this)" id="n2">2</button>
            <button onclick="writeNumber(this)" id="n3">3</button>
            <button onclick="writeNumber(this)" id="n4">4</button>
            <br /><br />
            <button onclick="writeNumber(this)" id="n5">5</button>
            <button onclick="writeNumber(this)" id="n6">6</button>
            <button onclick="writeNumber(this)" id="n7">7</button>
            <button onclick="writeNumber(this)" id="n8">8</button>
            <br /><br />
            <button onclick="writeNumber(this)" id="n9">9</button>
            <button onclick="writeNumber(this)" id="0">0</button>
            <button onclick="setDecimal(this, true)" id="dec">.</button>
            <button onclick="setOperator(this)" id="sum">+</button>
            <br /><br />
            <button onclick="setOperator(this)" id="sustract">-</button>
            <button onclick="setOPerator(this)" id="multi">*</button>
            <button onclick="setOperator(this)" id="divide">/</button>
            <button onclick="cleartxt()" id="C">C</button>
            <br /><br />
            <button onclick="calculate()" id="calcular" style="width: 190px">
              =
            </button>
            <button onclick="removeLastNumber()" id="removeLast">B</button>
          </div>
        </div>
      </article>
    </section>
  </head>
  <body>
    <script>
      function writeNumber(elementId) {
        var outputValueTo = document.getElementById('field1')

        if (
          outputValueTo.value == '0' ||
          outputValueTo.value == 'syntax error'
        ) {
          outputValueTo.value = elementId.textContent
        } else {
          outputValueTo.value += elementId.textContent
        }
      }

      function cleartxt() {
        document.getElementById('field1').value = '0'
        document.getElementById('dec').disabled = false
      }

      function setOperator(elementId) {
        var outputValueTo = document.getElementById('field1')
        if (
          outputValueTo.value == '0' ||
          outputValueTo.value == 'syntax error'
        ) {
          outputValueTo.value = '0'
        } else {
          outputValueTo.value += elementId.textContent
          document.getElementById('dec').disabled = false
        }
      }

      function setDecimal(elementId, status) {
        var outputValueTo = document.getElementById('field1')
        outputValueTo.value += elementId.textContent
        document.getElementById('dec').disabled = status
      }

      function calculate() {
        try {
          var field1txt = document.getElementById('field1')
          if (field1txt.value != '') {
            var calculateResult = eval(field1txt.value)
            field1txt.value = calculateResult
          }
        } catch (err) {
          field1txt.value = 'syntax error'
        }
      }

      function removeLastNumber() {
        var field1txt = document.getElementById('field1')

        if (
          field1txt.value.length == 1 ||
          field1txt.value == '0' ||
          field1txt.value == 'syntax error'
        ) {
          field1txt.value = '0'
          document.getElementById('dec').disabled = false
        } else {
          field1txt.value = field1txt.value.substring(
            0,
            field1txt.value.length - 1
          )
        }
      }
    </script>
  </body>
</html>
